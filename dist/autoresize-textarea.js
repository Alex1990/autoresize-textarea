!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery,a)}(this,function(a,b){"use strict";var c,d,e=window,f=document,g=navigator.userAgent;/msie|trident/i.test(g)&&(d=g.match(/(?:msie |rv:)(\d+(\.\d+)?)/i),c=d&&d.length>1&&d[1]||"");var h="onselectionchange"in f,i=function(a,b,c){a.addEventListener(b,c,!1)},j=function(a,b){return e.getComputedStyle?e.getComputedStyle(a)[b]:a.currentStyle?a.currentStyle[b]:void 0},k=function(b,d){null==d?d={}:"function"==typeof d&&(d={callback:d});var e=b.value;b.value="";var g=parseFloat(j(b,"paddingTop"))+parseFloat(j(b,"paddingBottom")),k=b.scrollHeight-(b.clientHeight-g);b.value=e;var l=!0,m=function(){if(b.value!==e||l){e=b.value;var f=b.style.height;b.style.height="";var g=function(){var c=b.scrollHeight-k;d.maxHeight&&c>d.maxHeight?(b.style.height=d.maxHeight+"px",b.style.overflowY="auto"):b.style.height=c+"px";var e=parseFloat(b.style.height);a&&a.fn&&a(b).trigger("autoresize:height",e),d.callback&&d.callback.call(b,e)};9>c?(setTimeout(g,0),b.style.height=f):g()}},n=function(a){"focus"===a.type?i(f,"selectionchange",m):f.removeEventListener("selectionchange",m,!1)};b.addEventListener?(i(b,"input",m),h&&(i(b,"focus",n),i(b,"blur",n))):b.attachEvent&&b.attachEvent("onpropertychange",function(){"value"===window.event.propertyName&&m()});var o;c&&(o=function(){b.scrollTop=0},b.attachEvent?b.attachEvent("onscroll",o):c>8&&i("scroll",o)),9>c&&(b.value="aa",f.execCommand("Undo")),m(),l=!1};return a&&a.fn?a.fn.autoResize=function(a){this.each(function(b,c){k(c,a)})}:b&&(b.autoResize=k),k});