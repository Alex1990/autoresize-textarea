!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery,a)}(this,function(a,b){"use strict";var c,d,e=window,f=document,g=navigator.userAgent;/msie|trident/i.test(g)&&(d=g.match(/(?:msie |rv:)(\d+(\.\d+)?)/i),c=d&&d.length>1&&d[1]||"");var h="onselectionchange"in f,i=function(a,b,c){a.addEventListener(b,c,!1)},j=function(a,b,c){a.removeEventListener(b,c,!1)},k=function(a,b){return e.getComputedStyle?e.getComputedStyle(a)[b]:a.currentStyle?a.currentStyle[b]:void 0},l=function(b,d){null==d?d={}:"function"==typeof d&&(d={onresizeheight:d});var e=b.value;b.value="";var g=parseFloat(k(b,"paddingTop"))+parseFloat(k(b,"paddingBottom")),l=b.scrollHeight-(b.clientHeight-g);b.value=e;var m,n;9>c&&(m=function(){b.scrollTop=0},b.attachEvent("onscroll",m),n=b.value,b.value="aa",b.value=n,f.execCommand("Undo"),f.execCommand("Undo"));var o,p=!0,q=function(){if(b.value!==e||p){e=b.value;var f=b.style.height;b.style.height="";var g=function(){var c=b.scrollHeight-l;d.maxHeight&&c>d.maxHeight?(b.style.height=d.maxHeight+"px",b.style.overflowY="auto",b.detachEvent&&b.detachEvent("onscroll",m)):b.style.height=c+"px";var e=parseFloat(b.style.height);o!==e&&(o=e,a&&a.fn&&a(b).trigger("autoresize:height",e),d.onresizeheight&&d.onresizeheight.call(b,e))};9>c?(setTimeout(g,0),b.style.height=f):g()}},r=function(a){"focus"===a.type?i(f,"selectionchange",q):j(f,"selectionchange",q)};if(b.addEventListener)i(b,"input",q),c&&h&&(i(b,"focus",r),i(b,"blur",r));else{var s=function(){"value"===window.event.propertyName&&q()};b.attachEvent("onpropertychange",s)}return q(),p=!1,{reset:function(){b.style.height="",b.addEventListener?(j(b,"input",q),j(b,"focus",r),j(b,"blur",r)):(b.style.overflowY="",b.detachEvent("onpropertychange",s),b.detachEvent("onscroll",m))}}};return a&&a.fn?a.fn.autoResize=function(b){var c=[];return this.each(function(a,d){c.push(l(d,b))}),{reset:function(){a.each(c,function(a,b){b.reset()})}}}:b&&(b.autoResize=l),l});