!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery,a)}(this,function(a,b){"use strict";var c,d,e=window,f=document,g=navigator.userAgent;/msie|trident/i.test(g)&&(d=g.match(/(?:msie |rv:)(\d+(\.\d+)?)/i),c=d&&d.length>1&&d[1]||"");var h="onselectionchange"in f,i=function(a,b,c){a.addEventListener(b,c,!1)},j=function(a,b){return e.getComputedStyle?e.getComputedStyle(a)[b]:a.currentStyle?a.currentStyle[b]:void 0},k=function(b,d){null==d?d={}:"function"==typeof d&&(d={callback:d});var e=b.value;b.value="";var g=parseFloat(j(b,"paddingTop"))+parseFloat(j(b,"paddingBottom")),k=b.scrollHeight-(b.clientHeight-g);b.value=e;var l,m;9>c&&(l=function(){b.scrollTop=0},b.attachEvent("onscroll",l),m=b.value,b.value="aa",b.value=m,f.execCommand("Undo"),f.execCommand("Undo"));var n=!0,o=!1,p=function(){if(b.value!==e||n){e=b.value;var f=b.style.height;b.style.height="";var g=function(){var c=b.scrollHeight-k;d.maxHeight&&c>d.maxHeight?(b.style.height=d.maxHeight+"px",b.style.overflowY="auto",o=!0,b.detachEvent&&b.detachEvent("onscroll",l)):b.style.height=c+"px";var e=parseFloat(b.style.height);a&&a.fn&&a(b).trigger("autoresize:height",e),d.callback&&d.callback.call(b,e)};9>c?(setTimeout(g,0),b.style.height=f):g()}},q=function(a){"focus"===a.type?i(f,"selectionchange",p):f.removeEventListener("selectionchange",p,!1)};b.addEventListener?(i(b,"input",p),h&&(i(b,"focus",q),i(b,"blur",q))):b.attachEvent&&b.attachEvent("onpropertychange",function(){"value"===window.event.propertyName&&p()}),p(),n=!1};return a&&a.fn?a.fn.autoResize=function(a){this.each(function(b,c){k(c,a)})}:b&&(b.autoResize=k),k});